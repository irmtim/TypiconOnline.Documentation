Правила набора богослужебных текстов
====================================

Описание
--------

В настоящее время богослужебные тексты хранятся в системе Типикон.онлайн в формате XML.

Ниже представлены правила оформления документа.

Полезные ссылки:
	
	* XSD-схема для проверки правильности заполнения XML-документа - `ссылка <https://github.com/irmtim/TypiconOnline.Documentation/blob/master/XML/DaySchema.xsd>`_
	
	* Пример бденной службы Возвижения Креста Господня- `ссылка <https://github.com/irmtim/TypiconOnline.Documentation/blob/master/XML/Menology/--09-27.%D0%92%D0%9E%D0%97%D0%94%D0%92%D0%98%D0%96%D0%95%D0%9D%D0%98%D0%95%20%D0%A7%D0%95%D0%A1%D0%A2%D0%9D%D0%9E%D0%93%D0%9E%20%D0%98%20%D0%96%D0%98%D0%92%D0%9E%D0%A2%D0%92%D0%9E%D0%A0%D0%AF%D0%A9%D0%95%D0%93%D0%9E%20%D0%9A%D0%A0%D0%95%D0%A1%D0%A2%D0%90%20%D0%93%D0%9E%D0%A1%D0%9F%D0%9E%D0%94%D0%9D%D0%AF.xml>`_
	
	* Пример воскресной службы Октоиха - `ссылка <https://github.com/irmtim/TypiconOnline.Documentation/blob/master/XML/Books/Oktoikh/1.Sunday.xml>`_

	* Пример субботней службы Октоиха - `ссылка <https://github.com/irmtim/TypiconOnline.Documentation/blob/master/XML/Books/Oktoikh/1.Saturday.xml>`_
	
	* Пример седмичной службы Октоиха - `ссылка <https://github.com/irmtim/TypiconOnline.Documentation/blob/master/XML/Books/Oktoikh/1.Monday.xml>`_



Корневой элемент
----------------

``dayservice`` - корневой элемент для описания текста службы.

Дочерние элементы:
	* ``name`` - наименование службы
	
		Тип - `Многоязыковая строка`_
		
		Обязательность - нет
		
		Количество - 0..1
	
	* ``mikrosesperinos`` - Малая вечерня 
		
		Тип - `Малая вечерня`_
		
		Обязательность - нет
		
		Количество - 0..1

	* ``esperinos`` - Вечерня
		
		Тип - `Вечерня`_
		
		Обязательность - нет
		
		Количество - 0..1

	* ``apodipno`` - Повечерие
	
		Тип - `Повечерие`_
		
		Обязательность - нет
		
		Количество - 0..1

	* ``mesoniktiko`` - Полунощница
	
		Тип - `Полунощница`_
		
		Обязательность - нет
		
		Количество - 0..1

	* ``orthros`` - Утреня 
	
		Тип - `Утреня`_
		
		Обязательность - нет
		
		Количество - 0..1

	* ``sixhour`` - Шестой час 
		
		Тип - `Шестой час`_
		
		Обязательность - нет
		
		Количество - 0..1			

	* ``leitourgia`` - Литургия 
		
		Тип - `Литургия`_
		
		Обязательность - нет
		
		Количество - 0..1
		

Примеры заполнения:


Малая вечерня
-------------

``mikrosesperinos`` - описание текстов службы Малой вечерни.

**Дочерние элементы**
	
	* ``kekragaria`` - Стихиры на Господи воззвах 
		
			Тип - `Стихиры`_
			
			Обязательность - нет
			
			Количество - 0..1

	* ``aposticha`` - Стихиры на стиховне 
		
			Тип - `Стихиры`_
			
			Обязательность - нет
			
			Количество - 0..1
			
	* ``troparion`` - Отпустительный тропарь (тропари)
		
			Тип - `Стихиры`_
			
			Обязательность - нет
			
			Количество - 0..1

Вечерня
-------

``esperinos`` - описание текстов службы Вечерни.

**Дочерние элементы**
	
	* ``kekragaria`` - Стихиры на Господи воззвах 
		
		Тип - `Стихиры`_
		
		Обязательность - нет
		
		Количество - 0..1
			
	* ``prokeimeni`` - Прокимны на вечерне 
		
		Обязательность - нет
		
		Количество - 0..1
		
		**Дочерние элементы**
		
			* ``prokeimenon`` - описание прокимна 
	
				Тип - `Прокимен`_
				
				Обязательность - да
				
				Количество - 1..2

	* ``paroimies`` - Паремии (ветхозаветные чтения) 
		
		Обязательность - нет
		
		Количество - 0..1
		
		**Дочерние элементы**
		
			* ``paroimia`` - Паремия 
	
				Тип - `Паремия`_
				
				Обязательность - да
				
				Количество - 1..n

	* ``liti`` - Стихиры на литии
		
		Тип - `Стихиры`_
		
		Обязательность - нет
		
		Количество - 0..1
			
	* ``aposticha`` - Стихиры на стиховне 
		
		Тип - `Стихиры`_
		
		Обязательность - нет
		
		Количество - 0..1
			
	* ``troparion`` - Отпустительный тропарь (тропари)
		
		Тип - `Стихиры`_
		
		Обязательность - нет
		
		Количество - 0..1

Повечерие
---------

``apodipno`` - текст службы повечерия (малого или великого)

**Дочерние элементы**

	* ``kanonas`` - канон на повечерии
		
		Тип - `Канон`_
		
		Обязательность - да
			
		Количество - 1
		
	* ``sedalen`` - седален после 6-ой песни канона
	
		Тип - `Стихиры`_
			
		Обязательность - нет
		
		Количество - 0..1

Полунощница
-----------

Утреня
------

Шестой час
----------

Литургия
--------


Многоязыковая строка
--------------------

Строковое значение, отображаемое на несольких языках

**Дочерние элементы**

	* ``item`` - `Элемент многоязыковой строки`_
	
**Примеры заполнения**

.. code-block:: xml

	<ItemText>
		<item language="cs-ru">Блажен муж, иже не иде на совет нечестивых</item>
		<item language="cs-cs">Бlжeнъ мyжъ, и4же не и4де на совётъ нечести1выхъ</item>
		<item language="ru-ru">Блажен муж, который не пошел на совет нечестивыхitem>
		<item language="el-el">Μακάριος ἀνήρ, ὃς οὐκ ἐπορεύθη ἐν βουλῇ ἀσεβῶν</item>
		<style>
			<bold/>
			<red/>
			<header>h1</header>
		</style>
	</ItemText>

	
Элемент многоязыковой строки
----------------------------

``item`` - Дочерний элемент многостроковой строки

**Атрибуты**

	* ``language`` - определение языка

		Возможные значения
			* **cs-cs** - церковно-славянский
			* **cs-ru** - церковно-славянский гражданским шрифтом
			* **ru-ru** - русский
			* **el-el** - греческий


**Примеры заполнения**

.. code-block:: xml

	<item language="cs-ru">Блажен муж, иже не иде на совет нечестивых</item>
	
		
Стихиры
-------

Раздел службы.

**Дочерние элементы**

	* ``group`` - группа песнопений, объединенных одним :term:`гласом<Глас>` или :term:`подобном<Подобен>`/:term:`самоподобном<Самоподобен>`.
	
		Тип - `Группа песнопений`_
			
			Обязательность - нет
			
			Количество - 0..n

	* ``doxastichon`` - песнопение, поющееся на "Славу".
	
		Тип - `Группа песнопений`_
			
			Обязательность - нет
			
			Количество - 0..1
			
	* ``theotokion`` - песнопение(я), поющееся на "И ныне".
	
		Тип - `Группа песнопений`_
			
			Обязательность - нет
			
			Количество - 0..1
			
**Примеры заполнения**

.. code-block:: xml

	<kekragaria>
		<group ihos="1">
			<prosomoion self="false">
				<item language="cs-ru">Небе́сных чино́в</item>
			</prosomoion>
			<ymnos>
				<text>
					<item language="cs-ru">Благочести́вым всеору́жием оде́явся, / побо́рник яви́лся еси́ Христа́ Всецаря́, / Ники́тo страстоте́рпче, / я́коже дре́вле Гедео́н всекре́пкий, / иноплеме́нных полки́ низложи́в / до́блественным твои́м дерзнове́нием.</item>
				</text>
			</ymnos>
			<ymnos>
				<text>
					<item language="cs-ru">Иноплеме́ннаго, му́чениче, пора́товал еси́ / всеси́льною ве́рою Спа́совою, богому́дре, / претерпе́вый стра́сти. / Те́м му́дре ва́рвары обрати́л еси́ / ко Творцу́ и Влады́це все́х, / и сла́вят Его́ благочести́во.</item>
				</text>
			</ymnos>
			<ymnos>
				<text>
					<item language="cs-ru">Нача́тки, му́чениче, от ва́рвар Христу́ сла́ву принесы́й, / яви́лся еси́ страда́лец богоглаго́ливый, / у́мер за Тро́ицу, / те́м я́вственно и вене́ц восприя́л еси́, / и, я́ко свети́ло, сия́еши боголе́пно / в ми́ре, достосла́вне.</item>
				</text>
			</ymnos>
		</group>
		<doxastichon ihos="6">
			<annotation>
				<item language="cs-ru">Феофа́ново</item>
			</annotation>
			<ymnos>
				<text>
					<item language="cs-ru">Свети́льника му́чеников тя́ позна́хом, Ники́то, Христо́в страда́льче...</item>
				</text>
			</ymnos>
		</doxastichon>
	</kekragaria>
		
Группа песнопений
-----------------

Группа богослужебных текстов, объединенных одним :term:`гласом<Глас>` или :term:`подобном<Подобен>`/:term:`самоподобном<Самоподобен>`.

**Атрибуты**

	* ``ihos`` - номер :term:`гласа<Глас>`
	
		Тип - целочисленный (1..8)
		
		Обязательность - да
		
	* ``kind`` - принадлежность песнопений определенному типу
	
		Тип - строковый, возможны следующие значения:
		
			* ``stavros`` - обычно связанные с Крестными страдания Спасителя
			
		Обязательность - нет

**Дочерние элементы**
	
	* ``prosomoion`` - определение :term:`подобна<Подобен>`
	
		Тип - `Многоязыковая строка`_
		
		Обязательность - нет
		
		Атрибуты
			``self`` - является ли :term:`самоподобном<Самоподобен>`
			
			Тип - логический
			
			Обязательность - да
			
	* ``annotation`` - аннотация к песнопениям, указанная в богослужебной книге.
		
		Тип - `Многоязыковая строка`_
		
		Обязательность - нет
		
		Количество - 0..1
	
		Например: "стихиры кир Феодора"
		
	* ``ymnos`` - песнопения
	
		Тип - `Песнопение`_
		
		Обязательность - да
		
		Количество - 1..n
		
**Примеры заполнения**

.. code-block:: xml
	
	<group ihos="1">
		<prosomoion self="false">
			<item language="cs-cs">Прехвaльніи м§нцы</item>
			<item language="cs-ru">Прехвaльнии мученицы</item>
		</prosomoion>
		<annotation>
			<item language="cs-cs">стіхи6ры ўмили1тельны вLчны</item>
		</annotation>
		<ymnos>
			<text>
				<item language="cs-cs">Вс‰ привeлъ є3си2 твои1мъ сл0вомъ и3 д¦омъ, за блaгость гDи, тaже сотвори1лъ є3си2 словeсное мS жив0тно, да твоE с™0е слaвлю всеси1льное и4мz. ѓзъ же наипaче стyдными мои1ми дёлы всегдA безчeствую: но пощади2, молю1сz.</item>
			</text>
		</ymnos>
		<ymnos>
			<text>
				<item language="cs-cs">Познaй твоE, nкаsннаz душE, б9eственное бlгор0діе, и3 nтeчество нетлённое, и3 тщи1сz всегдA бlгодэsньми сіE достигaти: ничт0же t тлённыхъ да плэни1тъ тS, г0рніz чaсти є3си2, тёло же землS и3 тлёетсz, да не побэди1тъ хyждшее лyчшіz.</item>
			</text>
		</ymnos>
		<ymnos>
			<text>
				<item language="cs-cs">Грzди2 всеoкаsнаz душE моS ко преблаг0му, тeплыми слезaми приступи2, содBzннаz тоб0ю прeжде судA твоегw2 вс‰ и3сповёдуй, и3 млcтива создaтелz, nкаsннаz, себЁ содёлай, и3 прощeніе и3спроси2, прeжде дaже двє1ри не заключи1тъ тебЁ гDь.</item>
			</text>
		</ymnos>
	</group>
			
			
Песнопение
----------

Описание песнопения

**Атрибуты**

	* ``kind`` - принадлежность песнопений определенному типу
	
		Тип - строковый, возможны следующие значения:
		
			* ``theotokion`` - "богородичен", посвященный Божией Матери
			* ``triadiko`` - "троичен", посвященный Пресвятой Троице
			* ``martyrion`` - "мученичен", посвященный мученикам
			* ``ierarhon`` - посвященный святителям
			* ``osion`` - посвященный преподобным
			* ``nekrosimo`` - заупокойный
			* ``irmos`` - являющийся :term:`ирмосом<Ирмос>`
			* ``katavasia`` - являющийся :term:`катавасией<Катавасия>`
			
		Обязательность - нет
		
	* ``annotation`` - аннотация к песнопению, указанная в богослужебной книге
	
		Тип - `Многоязыковая строка`_
		
		Обязательность - нет
		
		Количество - 0..1
		
		Например: "стихира кир Иоанна"
		
	* ``stihos`` - стихи, предваряющие песнопение
	
		Тип - `Многоязыковая строка`_
		
		Обязательность - нет
		
		Количество - 0..n
		
	* ``text`` - сам текст песнопения
	
		Тип - `Многоязыковая строка`_
		
		Обязательность - да
		
		Количество - 1	
		
**Примеры заполнения**

.. code-block:: xml
		
	<ymnos>
		<stihos>
			<item language="cs-ru">Возноси́те Го́спода Бо́га на́шего / и покланя́йтеся подно́жию но́гу Его́, я́ко свя́то е́сть.</item>
		</stihos>
		<text>
			<item language="cs-ru">Копие́ со кресто́м, / гво́зди и ина́я, / и́миже живоно́сное / Христо́во пригвозди́ся Те́ло, / вознося́ще, поклони́мся.</item>
		</text>
	</ymnos>
	
	
Прокимен
--------

Описание прокимна

**Атрибуты**

	* ``ihos`` - номер :term:`гласа<Глас>`
	
		Тип - целочисленный (1..8)
		
		Обязательность - да
				
	* ``kind`` - принадлежность песнопений определенному типу
	
		Тип - строковый, возможны следующие значения:
		
			* ``theotokion`` - "богородичен", посвященный Божией Матери
			* ``triadiko`` - "троичен", посвященный Пресвятой Троице
			* ``martyrion`` - "мученичен", посвященный мученикам
			* ``ierarhon`` - посвященный святителям
			* ``osion`` - посвященный преподобным
			* ``nekrosimo`` - заупокойный
			* ``irmos`` - являющийся :term:`ирмосом<Ирмос>`
			* ``katavasia`` - являющийся :term:`катавасией<Катавасия>`
			
		Обязательность - нет
		
**Дочерние элементы**
		
	* ``stihos`` - стихи прокимна
	
		Тип - `Многоязыковая строка`_
		
		Обязательность - да
		
		Количество - 1..n
		
		
**Примеры заполнения**

.. code-block:: xml
		
	<prokeimenon ihos="4">
		<stihos>
			<item language="cs-ru">Ви́деша вси́ концы́ земли́ / спасе́ние Бо́га на́шего.</item>
		</stihos>
		<stihos>
			<item language="cs-ru">Воспо́йте Го́сподеви пе́снь но́ву, я́ко ди́вна сотвори́ Госпо́дь.</item>
		</stihos>
	</prokeimenon>
	

Паремия
-------

Описание паремии (ветхозаветного чтения)

**Атрибуты**

	* ``quote`` - обозначение интервала в чтении Священного писания
	
		Тип - строковый
		
		Обязательность - нет
		
		**Пример заполнения**
		
			*Ис. 61:1–9* - чтение из книги пророка Исаии, глава 61, стихи 1-9
				
**Дочерние элементы**
		
	* ``bookname`` - наименование книги Священного писания
	
		Тип - `Многоязыковая строка`_
		
		Обязательность - да
		
		Количество - 1

	* ``stihos`` - стихи книги Священного писания
	
		Тип - `Многоязыковая строка`_
		
		Обязательность - да
		
		Количество - 1..n
		
		
**Примеры заполнения**

.. code-block:: xml
		
	<paroimia>
		<bookname>
			<item language="cs-ru">Исхо́да чте́ние.</item>
		</bookname>
		<stihos>
			<item language="cs-ru">Поя́т Моисе́й сы́ны Изра́илевы от мо́ря Чермна́го и веде́ ты́я в пусты́ню Су́р, и идя́ху три́ дни́ в пусты́ни, и не обрета́ху воды́, да бы́ша пи́ли. Приидо́ша же в Ме́рру и не можа́ху пи́ти воды́ из Ме́рры, горька́ бо бе́; сего́ ра́ди нарече́ся и́мя ме́сту тому́: го́ресть. И ропта́ху лю́дие на Моисе́я, глаго́люще: что́ пие́м? Возопи́ же Моисе́й ко Го́споду, и показа́ ему́ Госпо́дь дре́во, и вложи́ то́е в во́ду, и сладка́ бы́сть вода́. Та́мо положи́ ему́ Бо́г оправда́ния и суды́, и та́мо искуша́ше его́ и рече́: Аще слу́хом услы́шиши гла́с Го́спода Бо́га твоего́, и уго́дная пред Ни́м сотвори́ши, и внуши́ши за́поведи Его́, и сохрани́ши вся́ оправда́ния Его́, вся́ку боле́знь, ю́же наведо́х еги́птяном, не наведу́ на тя́. Аз бо е́смь Госпо́дь, исцеля́яй тя́. И приидо́ша во Ели́м, и бя́ху та́мо двана́десять исто́чников во́д, и се́дмьдесят сте́блий фи́никовых, и ополчи́шася та́мо при вода́х. И воздвиго́шася от Ели́ма, и прии́де ве́сь со́нм сыно́в Изра́илевых в пусты́ню Си́н, я́же е́сть между́ Ели́мом и между́ Си́ною.</item>
		</stihos>
	</paroimia>
	
	
Канон
-----

Текст канона
	
**Атрибуты**

	* ``ihos`` - номер :term:`гласа<Глас>`
	
		Тип - целочисленный (1..8)
		
		Обязательность - нет
	
**Дочерние элементы**

	* ``name`` - наименование канона
	
		Тип - `Многоязыковая строка`_
		
		Обязательность - нет
		
		Количество - 0..1
		
	* ``acrostic`` - акростих или "краегранесие" канона
	
		Тип - `Многоязыковая строка`_
		
		Обязательность - нет
		
		Количество - 0..1
		
	* ``annotation`` - аннотация (справочная информация, указанная в источнике)
	
		Тип - `Многоязыковая строка`_
		
		Обязательность - нет
		
		Количество - 0..1
		
	* ``stihos`` - припев к тропарям канона
	
		Тип - `Многоязыковая строка`_
		
		Обязательность - нет
		
		Количество - 0..1
		
		**Пример заполнения**
		
			.. code-block:: xml
		
				<stihos>
					<item language="cs-ru">Пресвятая Богородице, спаси нас.</item>
				</stihos>
	
	* ``odes`` - песни канона
	
		Обязательность - да
		
		Количество - 1
		
		Дочерние элементы
		
			* ``odi`` - песнь канона
			
				Тип - `Песнь канона`_
		
				Обязательность - да
				
				Количество - 1..9

Песнь канона
------------

Текст песни канона

**Атрибуты**

	* ``number`` - номер песни канона
	
		Тип - целочисленный (1..9)
		
		Обязательность - да
	
**Дочерние элементы**

	* ``troparion`` - тропарь канона
	
		Тип - `Песнопение`_
		
		Обязательность - да
		
		Количество - 1..n
		
.. important:: В каждой песне должен быть начальный тропарь с указанием вида ``irmos`` 

**Примеры заполнения**

.. code-block:: xml

	<odi number="1">
		<troparion kind="irmos">
			<text>
				<item language="cs-ru">Твоя́ победи́тельная десни́ца Боголе́пно в кре́пости просла́вися: та́ бо Безсме́ртне, я́ко всемогу́щая, проти́вныя сотре́, Изра́ильтяном пу́ть глубины́ новосоде́лавшая.</item>
			</text>
		</troparion>
		<troparion>
			<text>
				<item language="cs-cs">Кyю ти2 дост0йную пёснь нaше принесeтъ неможeніе; т0чію њбрaдовательную, є4йже нaсъ гавріи1лъ тaйнw научи1лъ є4сть: рaдуйсz бцdе дв7о, м™и неневёстнаz.</item>
			</text>
		</troparion>
		<troparion>
			<text>
				<item language="cs-cs">Приснодв7э и3 м™ри цRS вhшнихъ си1лъ, t чистёйша сeрдца вёрніи дух0внэ возопіи1мъ: рaдуйсz бцdе дв7о, м™и неневёстнаz.</item>
			</text>
		</troparion>
		<troparion>
			<text>
				<item language="cs-cs">Безмёрнаz бeздна твоегw2 непостижи1магw ржcтвA всечcтаz, вёрою несумнённою ќбw чи1стэ прин0симъ ти2 глаг0люще: рaдуйсz бцdе дв7о, м™и неневёстнаz.</item>
			</text>
		</troparion>
	</odi>