Правила набора богослужебных текстов
====================================

Описание
--------

В настоящее время богослужебные тексты хранятся в системе Типикон.онлайн в формате XML.

Ниже представлены правила оформления документа.

Также по **ссылке** доступна XSD-схема для проверки правильности заполнения XML-документа.


Корневой элемент
----------------

	``dayservice`` - корневой элемент для описания текста службы.
	
	Дочерние элементы:
		* ``name`` - наименование службы
		
			Тип - `Многоязыковая строка`_
			
			Обязательность - нет
			
			Количество - 0..1
		
		* ``mikrosesperinos`` - Малая вечерня 
			
			Тип - `Малая вечерня`_
			
			Обязательность - нет
			
			Количество - 0..1

		* ``esperinos`` - Вечерня
			
			Тип - `Вечерня`_
			
			Обязательность - нет
			
			Количество - 0..1

		* ``apodipno`` - Повечерие
		
			Тип - `Повечерие`_
			
			Обязательность - нет
			
			Количество - 0..1

		* ``mesoniktiko`` - Полунощница
		
			Тип - `Полунощница`_
			
			Обязательность - нет
			
			Количество - 0..1

		* ``orthros`` - Утреня 
		
			Тип - `Утреня`_
			
			Обязательность - нет
			
			Количество - 0..1

		* ``sixhour`` - Шестой час 
			
			Тип - `Шестой час`_
			
			Обязательность - нет
			
			Количество - 0..1			

		* ``leitourgia`` - Литургия 
			
			Тип - `Литургия`_
			
			Обязательность - нет
			
			Количество - 0..1
			

	Примеры заполнения:


Малая вечерня
-------------

	``mikrosesperinos`` - описание текстов службы Малой вечерни.
	
	Дочерние элементы:
	
	* ``kekragaria`` - Стихиры на Господи воззвах 
		
			Тип - `Стихиры`_
			
			Обязательность - нет
			
			Количество - 0..1



Вечерня
-------

Повечерие
---------
Полунощница
-----------

Утреня
------

Шестой час
----------

Литургия
--------


Многоязыковая строка
--------------------

	Строковое значение, отображаемое на несольких языках

	Дочерние элементы
	
		* ``item`` - `Элемент многоязыковой строки`_
		
	Примеры заполнения

	.. code-block:: xml

		<ItemText>
			<item language="cs-ru">Блажен муж, иже не иде на совет нечестивых</item>
			<item language="cs-cs">Бlжeнъ мyжъ, и4же не и4де на совётъ нечести1выхъ</item>
			<item language="ru-ru">Блажен муж, который не пошел на совет нечестивыхitem>
			<item language="el-el">Μακάριος ἀνήρ, ὃς οὐκ ἐπορεύθη ἐν βουλῇ ἀσεβῶν</item>
			<style>
				<bold/>
				<red/>
				<header>h1</header>
			</style>
		</ItemText>
	
	
Элемент многоязыковой строки
----------------------------

	``item`` - Дочерний элемент многостроковой строки

	Атрибуты

		* ``language`` - определение языка

			Возможные значения
				* **cs-cs** - церковно-славянский
				* **cs-ru** - церковно-славянский гражданским шрифтом
				* **ru-ru** - русский
				* **el-el** - греческий
	
	
	Примеры заполнения

	.. code-block:: xml
	
		<item language="cs-ru">Блажен муж, иже не иде на совет нечестивых</item>
		
		
Стихиры
-------

	Раздел службы.
	
	Дочерние элементы
	
		* ``group`` - группа песнопений, объединенных одним :term:`гласом<Глас>` или :term:`подобном<Подобен>`/:term:`самоподобном<Самоподобен>`.
		
			Тип - `Группа песнопений`_
				
				Обязательность - нет
				
				Количество - 0..n

		* ``doxastichon`` - песнопение, поющееся на "Славу".
		
			Тип - `Группа песнопений`_
				
				Обязательность - нет
				
				Количество - 0..1
				
		* ``theotokion`` - песнопение(я), поющееся на "И ныне".
		
			Тип - `Группа песнопений`_
				
				Обязательность - нет
				
				Количество - 0..1
				
	Примеры заполнения

	.. code-block:: xml

		<kekragaria>
			<group ihos="1">
				<prosomoion self="false">
					<item language="cs-ru">Небе́сных чино́в</item>
				</prosomoion>
				<ymnos>
					<text>
						<item language="cs-ru">Благочести́вым всеору́жием оде́явся, / побо́рник яви́лся еси́ Христа́ Всецаря́, / Ники́тo страстоте́рпче, / я́коже дре́вле Гедео́н всекре́пкий, / иноплеме́нных полки́ низложи́в / до́блественным твои́м дерзнове́нием.</item>
					</text>
				</ymnos>
				<ymnos>
					<text>
						<item language="cs-ru">Иноплеме́ннаго, му́чениче, пора́товал еси́ / всеси́льною ве́рою Спа́совою, богому́дре, / претерпе́вый стра́сти. / Те́м му́дре ва́рвары обрати́л еси́ / ко Творцу́ и Влады́це все́х, / и сла́вят Его́ благочести́во.</item>
					</text>
				</ymnos>
				<ymnos>
					<text>
						<item language="cs-ru">Нача́тки, му́чениче, от ва́рвар Христу́ сла́ву принесы́й, / яви́лся еси́ страда́лец богоглаго́ливый, / у́мер за Тро́ицу, / те́м я́вственно и вене́ц восприя́л еси́, / и, я́ко свети́ло, сия́еши боголе́пно / в ми́ре, достосла́вне.</item>
					</text>
				</ymnos>
			</group>
			<doxastichon ihos="6">
				<annotation>
					<item language="cs-ru">Феофа́ново</item>
				</annotation>
				<ymnos>
					<text>
						<item language="cs-ru">Свети́льника му́чеников тя́ позна́хом, Ники́то, Христо́в страда́льче...</item>
					</text>
				</ymnos>
			</doxastichon>
		</kekragaria>
		
Группа песнопений
-----------------

	Группа богослужебных текстов, объединенных одним :term:`гласом<Глас>` или :term:`подобном<Подобен>`/:term:`самоподобном<Самоподобен>`.
	
	Атрибуты
	
		* ``ihos`` - номер :term:`гласа<Глас>`
		
			Тип - целочисленный (1..8)
			
			Обязательность - да
			
		* ``kind`` - принадлежность песнопений определенному типу
		
			Тип - строковый, возможны следующие значения:
			
				* ``stavros`` - обычно связанные с Крестными страдания Спасителя
				
			Обязательность - нет
	
	Дочерние элементы
		
		* ``prosomoion`` - определение :term:`подобна<Подобен>`
		
			Тип - `Многоязыковая строка`_
			
			Обязательность - нет
			
			Атрибуты
				``self`` - является ли :term:`самоподобном<Самоподобен>`
				
				Тип - логический
				
				Обязательность - да
				
		* ``annotation`` - аннотация к песнопениям, указанная в богослужебной книге.
			
			Тип - `Многоязыковая строка`_
			
			Обязательность - нет
			
			Количество - 0..1
		
			Например: "стихиры кир Феодора"
			
		* ``ymnos`` - песнопениям
		
			Тип - `Песнопение`_
			
			Обязательность - да
			
			Количество - 1..n
			
	Примеры заполнения

	.. code-block:: xml
		
		<group ihos="1">
			<prosomoion self="false">
				<item language="cs-cs">Прехвaльніи м§нцы</item>
				<item language="cs-ru">Прехвaльнии мученицы</item>
			</prosomoion>
			<annotation>
				<item language="cs-cs">стіхи6ры ўмили1тельны вLчны</item>
			</annotation>
			<ymnos>
				<text>
					<item language="cs-cs">Вс‰ привeлъ є3си2 твои1мъ сл0вомъ и3 д¦омъ, за блaгость гDи, тaже сотвори1лъ є3си2 словeсное мS жив0тно, да твоE с™0е слaвлю всеси1льное и4мz. ѓзъ же наипaче стyдными мои1ми дёлы всегдA безчeствую: но пощади2, молю1сz.</item>
				</text>
			</ymnos>
			<ymnos>
				<text>
					<item language="cs-cs">Познaй твоE, nкаsннаz душE, б9eственное бlгор0діе, и3 nтeчество нетлённое, и3 тщи1сz всегдA бlгодэsньми сіE достигaти: ничт0же t тлённыхъ да плэни1тъ тS, г0рніz чaсти є3си2, тёло же землS и3 тлёетсz, да не побэди1тъ хyждшее лyчшіz.</item>
				</text>
			</ymnos>
			<ymnos>
				<text>
					<item language="cs-cs">Грzди2 всеoкаsнаz душE моS ко преблаг0му, тeплыми слезaми приступи2, содBzннаz тоб0ю прeжде судA твоегw2 вс‰ и3сповёдуй, и3 млcтива создaтелz, nкаsннаz, себЁ содёлай, и3 прощeніе и3спроси2, прeжде дaже двє1ри не заключи1тъ тебЁ гDь.</item>
				</text>
			</ymnos>
		</group>
			
			
Песнопение
----------

	Описание песнопения
	
	Атрибуты
	
		* ``kind`` - принадлежность песнопений определенному типу
		
			Тип - строковый, возможны следующие значения:
			
				* ``theotokion`` - "богородичен", посвященный Божией Матери
				* ``triadiko`` - "троичен", посвященный Пресвятой Троице
				* ``martyrion`` - "мученичен", посвященный мученикам
				* ``ierarhon`` - посвященный святителям
				* ``osion`` - посвященный преподобным
				* ``nekrosimo`` - заупокойный
				* ``irmos`` - являющийся :term:`ирмосом<Ирмос>`
				* ``katavasia`` - являющийся :term:`катавасией<Катавасия>`
				
			Обязательность - нет
			
		* ``annotation`` - аннотация к песнопению, указанная в богослужебной книге
		
			Тип - `Многоязыковая строка`_
			
			Обязательность - нет
			
			Количество - 0..1
			
			Например: "стихира кир Иоанна"
			
		* ``stihos`` - стихи, предваряющие песнопение
		
			Тип - `Многоязыковая строка`_
			
			Обязательность - нет
			
			Количество - 1..n
			
		* ``text`` - сам текст песнопения
		
			Тип - `Многоязыковая строка`_
			
			Обязательность - да
			
			Количество - 1	
			
	Примеры заполнения

	.. code-block:: xml
			
		<ymnos>
			<stihos>
				<item language="cs-ru">Возноси́те Го́спода Бо́га на́шего / и покланя́йтеся подно́жию но́гу Его́, я́ко свя́то е́сть.</item>
			</stihos>
			<text>
				<item language="cs-ru">Копие́ со кресто́м, / гво́зди и ина́я, / и́миже живоно́сное / Христо́во пригвозди́ся Те́ло, / вознося́ще, поклони́мся.</item>
			</text>
		</ymnos>